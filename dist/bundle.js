(()=>{"use strict";var t;!function(t){t.name="name",t.status="status",t.species="species",t.image="image"}(t||(t={}));class e extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,status:null,species:null,image:null})}attributeChangedCallback(t,e,n){this[t]=n}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <link rel="stylesheet" href="./cards.css">\n            <section>\n                <h1>${this.name}</h1>\n                <img src="${this.image}"></mg>\n                <p><b>status:</b> ${this.status}</p>\n                <p><b>specie:</b> ${this.species}</p>\n            </section>\n            `)}}customElements.define("card-info",e);var n=function(t,e,n,s){return new(n||(n=Promise))((function(o,i){function c(t){try{a(s.next(t))}catch(t){i(t)}}function r(t){try{a(s.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,r)}a((s=s.apply(t,e||[])).next())}))},s=function(t,e,n,s){return new(n||(n=Promise))((function(o,i){function c(t){try{a(s.next(t))}catch(t){i(t)}}function r(t){try{a(s.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,r)}a((s=s.apply(t,e||[])).next())}))};class o extends HTMLElement{constructor(){super(),this.create=[],this.searchText="",this.attachShadow({mode:"open"})}connectedCallback(){return s(this,void 0,void 0,(function*(){this.mount()}))}mount(){return s(this,void 0,void 0,(function*(){yield this.render(""),this.test()}))}test(){var t,e;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("input"),s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("button");null==n||n.addEventListener("change",(t=>{var e;const n=null===(e=t.target)||void 0===e?void 0:e.value;null==s||s.addEventListener("click",(()=>{this.render(n)}))}))}render(e){return s(this,void 0,void 0,(function*(){if(console.log(e),this.shadowRoot){const s=[...yield function(){return n(this,void 0,void 0,(function*(){try{const t=yield fetch("https://rickandmortyapi.com/api/character").then((t=>t.json()));return console.log(t),t.results}catch(t){console.log(t)}}))}(),...yield function(){return n(this,void 0,void 0,(function*(){try{const t=yield fetch("https://rickandmortyapi.com/api/character/?page=2").then((t=>t.json()));return console.log(t),t.results}catch(t){console.log(t)}}))}()];this.create=[],s.forEach((n=>{if(n.name.includes(e)){const e=this.ownerDocument.createElement("card-info");e.setAttribute(t.name,n.name),e.setAttribute(t.status,n.status),e.setAttribute(t.species,n.species),e.setAttribute(t.image,n.image),this.create.push(e)}})),this.shadowRoot.innerHTML="";const o=this.ownerDocument.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href","./cards.css"),this.shadowRoot.appendChild(o);const i=this.ownerDocument.createElement("div");i.setAttribute("id","searchBar");const c=this.ownerDocument.createElement("input");c.setAttribute("type","text"),c.textContent=e,i.appendChild(c);const r=this.ownerDocument.createElement("button");r.textContent="search",i.appendChild(r),this.shadowRoot.appendChild(i),this.create.forEach((t=>{var e;null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)})),this.test()}}))}}customElements.define("sect-container",o)})();